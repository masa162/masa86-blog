# 指示: Hono製ブログへの「Amazonリンク用ショートコード」機能の実装

## 1. 現状と目的
現在、Cloudflare Workers/Pages + Hono で構築されたブログを運用しています。
記事はMarkdown形式で管理していますが、Amazonの商品リンク（画像付き）を埋め込む際、毎回HTMLタグを直書きしており、保守性が著しく低下しています。

**目的:**
Markdownファイル内に独自のショートコード `{{ amazon ... }}` を記述するだけで、自動的にデザインされた商品リンクカード（HTML）に変換して出力される仕組みを実装したいです。

## 2. 前提課題（調査依頼）
私は現在のコードベースにおいて、以下の詳細仕様を完全には把握していません。まず最初にファイル構成を読み取り、以下を特定してください。

1.  **Markdownパーサーの特定**: `marked`, `markdown-it`, `remark` など、どのライブラリを使用しているか（`package.json` や `import` 文から推測）。
2.  **レンダリング箇所の特定**: 記事詳細ページ（`posts/:slug` など）を表示する際、どこでMarkdownをHTMLに変換しているか。

## 3. 実装要件
調査結果に基づき、以下の機能を実装してください。

### A. ショートコード記法
記事（Markdown）側では以下のように記述します。
`{{ amazon link="URL" image="画像URL" title="商品タイトル" }}`

### B. 変換ロジック (TypeScript)
MarkdownをHTMLに変換する**直前の処理**として、文字列置換（正規表現）を行う関数を追加してください。
- 正規表現を用いて上記ショートコードを検出する。
- 検出した箇所を、適切なclassが付与されたHTML構造（`div.amazon-card` 等）に置換する。

### C. デザイン (CSS)
生成されたHTMLに対応するCSSを追加してください。
- スマホでも崩れないレスポンシブデザイン。
- シンプルで清潔感のあるカード型デザイン（画像左、タイトルとボタン右など）。

## 4. アクションプラン（実行手順）
以下のステップで作業を進めてください。

1.  **【調査】**: プロジェクト内の関連ファイルを読み込み、Markdown変換処理が書かれているファイル（例: `src/index.tsx`, `src/utils/markdown.ts` 等）を特定し、私に報告してください。
2.  **【提案】**: どこに「ショートコード置換関数」を追加するのが最適か、コードの修正案を提示してください。
3.  **【実装】**: 同意が得られれば、対象ファイルのコードを修正（または新規作成）し、CSSを追加してください。

まずは【調査】から開始してください。
